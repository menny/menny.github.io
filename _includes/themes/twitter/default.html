<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{{ page.title }}</title>
    {% if page.description %}<meta name="description" content="{{ page.description }}">{% endif %}
    <meta name="author" content="{{ site.author.name }}">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="{{ ASSET_PATH }}/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <!-- trying out responsive design -->
    <link href="{{ ASSET_PATH }}/css/style.css" rel="stylesheet" type="text/css" media="all">
	  <link href="{{ ASSET_PATH }}/css/style_not_mobile.css" rel="stylesheet" type="text/css" media="(min-width: 5in)">
    <link href="{{ ASSET_PATH }}/css/style_mobile.css" rel="stylesheet" type="text/css" media="(max-width: 4.99in)">
    <link href="{{ ASSET_PATH }}/css/dark-mode.css" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
    <link rel="icon" href="{{ ASSET_PATH }}/img/favicon.ico">
    <link rel="icon" sizes="32x32" href="{{ ASSET_PATH }}/img/favicon_32.png">
    <link rel="apple-touch-icon" href="{{ ASSET_PATH }}/img/favicon.ico">
    <link rel="apple-touch-icon" sizes="72x72" href="{{ ASSET_PATH }}/img/favicon_72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="{{ ASSET_PATH }}/img/favicon_114.png">
    <link rel="apple-touch-icon" sizes="362x362" href="{{ ASSET_PATH }}/img/favicon_362.png">

    <!-- atom & rss feed -->
    <link href="{{ BASE_PATH }}{{ site.JB.atom_path }}" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="{{ BASE_PATH }}{{ site.JB.rss_path }}" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
	<!-- title font -->
	<link href='https://fonts.googleapis.com/css?family=Quattrocento:700' rel='stylesheet' type='text/css'>
	<!-- for body -->
	<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300' rel='stylesheet' type='text/css'>
  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
          <a class="brand" href="/blog.html">{{ site.title }}</a>
          <div class="container-narrow">
          <ul class="nav_left">
          	<li><a href="/archive.html">Archive</a></li>
          	<li><a href="/categories.html">Categories</a></li>       	
          </ul>
          </div>
          <div class="nav_right">
            <ul>
              <li><a href="/">Me</a>&nbsp;@&nbsp;</li>
              <li><a rel="me" href="https://github.com/menny">github</a></li>
              <li><a rel="me" href="https://mastodon.social/@menny">Mastodon</a></li>
              <li><a rel="me" href="https://www.threads.net/@mennyed">Threads</a></li>
              <li><a rel="me" href="https://www.linkedin.com/in/menny">linkedin</a></li>
              <li><a href="#" class="icon-menny dark-mode-toggle-icon" id="dark-mode-toggle"></a></li>
          	</ul> 
          </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        {{ content }}
      </div>

    </div>

    {% include JB/analytics %}
    <script>
      const toggle = document.getElementById('dark-mode-toggle');
      const body = document.body;

      // Function to apply the theme
      function applyTheme(theme) {
        if (theme === 'dark') {
          body.classList.add('dark-mode');
        } else {
          body.classList.remove('dark-mode');
        }
      }

      // Check for saved preference in local storage
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) {
        applyTheme(savedTheme);
      } else {
        // Check for system preference
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        applyTheme(prefersDark ? 'dark' : 'light');
      }

      // Toggle theme on click
      toggle.addEventListener('click', () => {
        const currentTheme = body.classList.contains('dark-mode') ? 'dark' : 'light';
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        applyTheme(newTheme);
        localStorage.setItem('theme', newTheme);
      });
    </script>
  </body>
</html>
